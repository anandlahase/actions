name: Manual File Copy

on:
  workflow_dispatch:
    inputs:
      extraVars:
        description:  'extraVars'
        required: true
        source_directory:
          description: 'Source Directory'
          required: true
          default: 'non-prod/dedicated/extraVars'
        destination_directory:
          description: 'Destination Directory'
          required: true
          default: 'prod/dedicated/extraVars'

      deploymentManifest:
        description:  'deploymentManifest'
        required: true
      inventory:
        description:  'inventory'
        required: true

jobs:
  copy_files:
    name: Copy Files
    runs-on: ubuntu-latest

    steps:
      - name: Checkout Repository
        uses: actions/checkout@v2

      - name: List Files in Source Directory
        run: |
          echo "Source Directory Contents:"
          ls -la "${{ github.event.inputs.source_directory }}"

      - name: List Files in Destination Directory
        run: |
          echo "Destination Directory Contents:"
          ls -la "${{ github.event.inputs.destination_directory }}"

      - name: Copy Files
        run: |
          sudo scp -r "${{ github.event.inputs.source_directory }}"/*.json "${{ github.event.inputs.destination_directory }}"
