name: Manual File Copy

on:
  workflow_dispatch:
    inputs:
      choice:
        type: choice
        description: Make a choice
        options:
        - extraVars
        - deploymentManifest
        - inventory
            
jobs:
  copy_files:
    name: Copy Files
    runs-on: ubuntu-latest

    steps:
      - name: Checkout Repository
        uses: actions/checkout@v2

      - name: List Files for extraVars
        run: |
          echo "extraVars Directory Contents:"
          ls -la "${{ github.event.inputs.source_directory }}"

      - name: List Files in Destination Directory
        run: |
          echo "Destination Directory Contents:"
          ls -la "${{ github.event.inputs.destination_directory }}"

      - name: Copy Files
        run: |
          sudo scp -r "${{ github.event.inputs.source_directory }}/extraVars/*.json "${{ github.event.inputs.destination_directory }}/extraVars/"

  deployment:
    runs-on: ubuntu-latest
    environment: production
    steps:
      - name: copy file to extraVars
        path:
          ./non-prod/dedicated/extraVars/*
        run: |
          cp -r ./non-prod/dedicated/extraVars/*.json ./prod/dedicated/extraVars/
        
